<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:9.0pt;
	font-family:"Segoe UI",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Segoe UI",sans-serif;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72">

<div class=WordSection1>

<p class=MsoNormal align=center style='text-align:center'><b><span
style='font-size:14.0pt;line-height:107%'>Social Squared Chatbot Description</span></b></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Video Link: </span><a
href="https://vimeo.com/327730469" target="_blank"><span style='font-size:14.0pt;
line-height:107%;color:#954F72'>https://vimeo.com/327730469</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Git
Repository: </span><a
href="https://github.com/Lightning-Tools/Social-Squared-Bot" target="_blank"><span
style='font-size:14.0pt;line-height:107%'>https://github.com/Lightning-Tools/Social-Squared-Bot</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>How to Run
Application Page: </span><a
href="https://lightning-tools.github.io/Social-Squared-Bot/" target="_blank"><span
style='font-size:14.0pt;line-height:107%'>https://lightning-tools.github.io/Social-Squared-Bot/</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Please read <i>How
to Run Application</i> first. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Social
Squared chatbot is based on <b>DialogFlow</b> </span><a
href="https://dialogflow.com/" target="_blank"><span style='font-size:14.0pt;
line-height:107%'>https://dialogflow.com/</span></a><span style='font-size:
14.0pt;line-height:107%'> which is a Google-owned developer of human-computer
interaction technologies based</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>on natural
language conversations. Here are some terms you should know before entering
chatbot ecosystem.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Artificial
Intelligence (AI) </span></b><span style='font-size:14.0pt;line-height:107%'>the
technology that helps induce human intelligence into machines. It used to make
bot intelligent.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Machine
Learning (ML) </span></b><span style='font-size:14.0pt;line-height:107%'>a
branch of artificial intelligence that allows the application to learn from the
interaction with users and environment.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Natural
Language Processing/Understanding (NLP/NLU)</span></b><span style='font-size:
14.0pt;line-height:107%'> a tech that helps machines contextually understand
human inputs.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1204 height=673 id="Picture 1" src="index_files/image001.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 1</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is
Dialogflow console. We will discuss Intents, Entities etc. to understand what
they are used for.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Agent</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The first
one <i>SocialSquared </i>is DialogFlow agent which lets you define a natural
language understanding (NLU) model. These modules can be included</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>in your app,
website, product, or service and translate text or spoken requests into actionable
data. An agent has several tabs <i>General</i>, <i>Languages</i>, <i>ML Settings</i>
etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Under <i>ML
Settings </i>you see ML Threshold decimal value ranging from 0 to 1 that you
can use to tune the accuracy of your Dialogflow chatbot.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The higher
the value of the ML threshold you use, the more closely the user's words have
to match your training phrases (training phrases will be discussed).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The lower
the value of the ML threshold, the more leeway you have in how close the user's
words have to be to match one of your training phrases.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'><img
border=0 width=1243 height=666 id="Picture 3" src="index_files/image002.png"></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 2</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Intents</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>To define
how conversations work, you create <b><i>intents </i></b>in your agent that map
user input to responses. In each intent, you define examples of user utterances</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that can be
trigger the intent, what to extract from the utterance, and how to respond. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Generally,
an intent represents one dialog turn within the conversations. For example, you
could create an agent that recognizes and responds to users'</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>input about
their favorite color. If a user said something like <i>My favorite color is
purple, </i>your agent would match that input to its corresponding intent and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>return
response you defined within that intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We already
defined several intents and can create more by clicking CREATE INTENT button.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1228 height=672 id="Picture 4"
src="index_files/image003.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 3</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's open <i>Default
Welcome Intent. </i>This intent is coming with Dialogflow and not created by
us. You see some training phrases.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Training phrases
</span></b><span style='font-size:14.0pt;line-height:107%'>are collections of
possible utterances that users might say to match an intent. You don't have to
define every possible example of what a user might </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>say because
of Dialogflow's built-in machine learning, which naturally expands training phrases
of other similar user utterances. However, you will need to add </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>multiple
training phrases within an intent (20 or more examples) so, your agent can
recognize a greater variety of user input. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1240 height=668 id="Picture 5"
src="index_files/image004.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 4</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Every intent
must define a response that is returned to the user. There are two primary ways
you can return a response to the user; either with a pre-defined static </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>response or
with a response generated from a webhook. In both of these cases, you can use
extracted parameters in the response. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Note, <i>Text
Response</i> is not the only option. There are other types of responses, Image,
Card, Quick replies, custom payload etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In our app
we use static responses and responses generated from a webhook and both text
and rich messages.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1273 height=586 id="Picture 6"
src="index_files/image005.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 5</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can test
your intent within Dialogflow console. I typed <i>Hello</i> in <i>Try it now</i>
field then hit enter. We know that <i>Hello</i> was actually defined as a
training phrase in </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Default
Welcome Intent </span></i><span style='font-size:14.0pt;line-height:107%'>and
the response we received in one of the text responses <i>Hi! How are you doing?</i>
defined in <i>Text response</i> section (Figure 4).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1289 height=709 id="Picture 7"
src="index_files/image006.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 6</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I am testing
via Facebook Messenger. I typed <i>Hi</i> and <i>Hello </i>and got different
response from <i>Text response</i> section (Figure 4). </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In the <i>Responses</i>
section of your intent, you can define one or more static text responses that
will be returned when a user's input matches that particular intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If you have
more than one text response defined, your agent will select responses to return
at random (but never use a variation twice in a row) until all responses</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>have been
used.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Small
Talk</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1302 height=714 id="Picture 8"
src="index_files/image007.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 7</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Small Talk</span></i><span
style='font-size:14.0pt;line-height:107%'> is used to provide responses to
causal conversation. It gives you a head start in making your agent smarter by
making it more capable of handling chit-chat.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1255 height=612 id="Picture 9"
src="index_files/image008.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 8</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User types <i>I
am happy</i>. The bot response is <i>Hey, happiness is contagious</i>. It is
coming from <i>smalltalk.user.happy</i> action (action will be discussed).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1265 height=639 id="Picture 10"
src="index_files/image009.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 9</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Another
example. User types <i>Who are you? </i>Bot replies<i> I'm a virtual agent. smalltalk.agent.acquaintance</i>
is triggered. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I want to
let you know that actually there are two <i>Small Talk</i>. The first one is <i>Domain</i>
<i>Small Talk</i>. That is the one we already discussed (Figure 7).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We enable it
via <i>Enable</i> switch (Figure 8). The second one is <i>Prebuilt</i> <i>Small
Talk </i>agent in Dialogflow (Prebuilt Agents will be discussed).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Some people
prefer using prebuilt <i>Small Talk</i> agent because there is no way to
control <i>Small Talk</i> domain as opposed to</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>prebuilt one
where you can modify intents and their responses right inside you agent (we will
see it in action soon). Anyway, we chose <i>Domain Small Talk</i> option.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Prebuilt
Agents</span></b></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></b></p>

<p class=MsoNormal><img border=0 width=1257 height=685 id="Picture 11"
src="index_files/image010.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 10</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Prebuilt
Agents</span></i><span style='font-size:14.0pt;line-height:107%'> are a
collection of agents developed by the Dialogflow team that are aimed at
covering specific use cases. These can be used to establish</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>a base for
building conversations that cover specific topics, like dining out, hotel,
booking, and navigation. Prebuilt Agents include intents and entities</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>(entities
will be discussed) that cover the agent's topic. You need to provide responses
since they may depend on particular use cases or need to be retrieved</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>from
external sources (webhook or third-party API).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1233 height=650 id="Picture 12"
src="index_files/image011.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 11</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I searched <i>navigation
</i>and found <i>Navigation </i>prebuilt agent then hovered over <i>Ask for
directions </i>label.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1252 height=667 id="Picture 13"
src="index_files/image012.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 12</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Both IMPORT
button and VIEW DETAILS link turned visible. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1216 height=661 id="Picture 15"
src="index_files/image013.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 13</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Clicking
VIEW DETAILS link. Users can ask your app for directions with this agent. They
can use general search terms like finding the closest grocery store etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1237 height=649 id="Picture 16"
src="index_files/image014.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 14</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can see prebuilt
<i>Small Talk</i> agent we were already talking about. Let's see how to add
prebuilt <i>Small Talk</i> agent instead of the domain one. You can add any
prebuilt </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>agent the exact
way. The procedure is not specific to <i>Small Talk</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1251 height=601 id="Picture 18"
src="index_files/image015.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 15</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I disabled
Domain <i>Small Talk </i>first.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1275 height=632 id="Picture 19"
src="index_files/image016.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 16</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Selected
prebuilt <i>Small Talk</i> and pressed IMPORT button.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1273 height=704 id="Picture 20"
src="index_files/image017.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 17</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The second agent
<i>Small-Talk </i>was generated.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1254 height=702 id="Picture 22"
src="index_files/image018.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 18</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>It specifies
lots of intents, five pages.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1246 height=688 id="Picture 23"
src="index_files/image019.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 19</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I just opened
<i>smalltalk.agent.boring</i> Intent for you to see training phrases. You can
add a training phrase, modify the existing one or remove.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1210 height=611 id="Picture 24"
src="index_files/image020.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 20</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here are text
responses specified which will be picked up randomly by the bot.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1161 height=557 id="Picture 25"
src="index_files/image021.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 21</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User types <i>you
are so boring</i> and the response is <i>I don't mean to be. I'll ask my
developers to work on making me more amusing</i>. You can also add, modify or
remove </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>text
responses.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1196 height=574 id="Picture 26"
src="index_files/image022.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 22</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>It is time
to import prebuilt <i>Small Talk</i> Intents into our <i>Social Squared</i>
agent. Hover over an intent then check it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1233 height=641 id="Picture 27"
src="index_files/image023.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 23</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>All blue
dots are converted into checkboxes and also there is a bulk import checkbox at
the top to select all the intents.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1220 height=526 id="Picture 28"
src="index_files/image024.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 24</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For demo
purposes I selected 5 intents and pressed <i>Copy</i> button.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1258 height=646 id="Picture 30"
src="index_files/image025.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 25</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Destination
agent <i>Social Squared </i>was selected with <i>Copy related entities</i>
option. Click <i>START</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1256 height=496 id="Picture 31"
src="index_files/image026.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 26</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We are back
to <i>SocialSquared</i> agent and could see <i>Small Talk </i>intents added to
our agent. User typed <i>It is annoying </i>and the response <i>I don’t to.</i>
<i>I'll ask my developers to</i></span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>make me
less annoying</span></i><span style='font-size:14.0pt;line-height:107%'>. The text
response is coming from <i>smalltalk.agent.annoying </i>intent. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Intent
Priority</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Social
Squared agent do not use <i>Intent Priority</i> but I would like to introduce
it so you may use it in some scenarios and it may be tricky.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Intent
Priority allows you to assign a certain priority to an intent. If a training
phrase matches multiple intents, an intent that has higher priority will be matched
over an intent </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that is
assigned a lower priority.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1276 height=553 id="Picture 32"
src="index_files/image027.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 27</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I created
two intents <i>Intent 1</i> and <i>Intent 2</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1264 height=680 id="Picture 33"
src="index_files/image028.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 28</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Intent 1 </span></i><span
style='font-size:14.0pt;line-height:107%'>defines a single training phrase <i>Do
you like programming? </i>and the single response is <i>I like programming</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1252 height=680 id="Picture 34"
src="index_files/image029.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 29</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Intent 2</span></i><span
style='font-size:14.0pt;line-height:107%'> defines the exact training phrase <i>Do
you like programming? </i>as<i> Intent 1 </i>did but the response is, <i>I like
programming too</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1239 height=586 id="Picture 35"
src="index_files/image030.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 30</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If user
types <i>Do you like programming? </i>the response will always be <i>I like
programming too! </i>and always <i>Intent 2</i> will be triggered (seems the
last one is always triggered). </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Suppose you
want Intent<i> 1</i> to be triggered instead of <i>Intent 2</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1242 height=446 id="Picture 37"
src="index_files/image031.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 31</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Go to <i>Intent
1</i> and hover over the blue circle to see the tooltip - You<i> can switch
priority by pressing this icon</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1270 height=593 id="Picture 39"
src="index_files/image032.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 32</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Select
orange circle <i>High</i> priority instead of the default one which was blue <i>Normal</i>
and <i>Save</i> it</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1266 height=435 id="Picture 40"
src="index_files/image033.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 33</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Intent 1 </span></i><span
style='font-size:14.0pt;line-height:107%'>has higher propriety that <i>Intent 2</i>
and the response to <i>Do you like programming? </i>will always be <i>I like
programming </i>from <i>Intent 1 </i>which is the expected behavior.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I was
testing <i>Intent Priority</i> before and figured out that it did not behave as
it should be. Suppose, <i>Intent 1</i> defines some training phrases along with
</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Do you
like programming? phrase </span></i><span style='font-size:14.0pt;line-height:
107%'>and <i>Intent 2</i> defines different training phrases along with <i>Do
you like programming? </i>phrase. You type <i>Do you like programming? </i>and </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Intent 2</span></i><span
style='font-size:14.0pt;line-height:107%'> was triggered.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You set <i>Intent
1</i> priority <i>High</i>, <i>save</i>d it then typed <i>Do you like
programming? </i>expecting that<i> Intent 1 </i>would be triggered but
surprisingly <i>Intent 2 </i>had always been triggered.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The thing is
that Dialogflow <i>Natural Language Processing (NLU)</i> decides what Intent
should be triggered bases on overall training phrases and the result intent may
not be</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the one with
the higher propriety. In a single training phrase case, it always works as
expected as we just have a single training phrase and NLU will take only that
training phrase </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>into
consideration.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Entities</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1323 height=657 id="Picture 41"
src="index_files/image034.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 34</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>System
Entities</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Entities are
Dialogflow's mechanism for identifying and extracting useful data from natural
language inputs. Any important data you want to get from a user's</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>request will
have a corresponding entity.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1304 height=668 id="Picture 43"
src="index_files/image035.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 35</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I created a
test intent <i>EntityTest </i>and typed some training phrases such as <i>Joe is
becoming 30 this year. </i>You see there are predefined entities i.e. these are
values </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Dialogflow
can extract out of box, with no assistance from the bot creator. They have
prefix <i>@sys</i>. Here is a is a list of system entities you can identify in
Dialogflow.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>dates and
times</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>numbers</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>amounts
with units; currency, length, area, etc.</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>unit
names</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>geography;
address, zip code, capital, country, city, state, airport etc</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>contact;
email and phone number</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>names</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>music
artist and music genre,</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>color</span></i></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>language</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1314 height=616 id="Picture 45"
src="index_files/image036.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 36</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I specified
a text response like <i>Your flight is from $geo-city to $geo-city1 on $date </i>and
could access parameters value via $. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>Registering
Flight from Paris to Yerevan tomorrow</i> and the response is<i> Your flight
from Paris to Yerevan on 2019-03-24</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can see
how data extracted and $geo-city is <i>Paris</i>, $geo-city1 is <i>Yerevan</i>
and $date is <i>2019-03-24</i> which is actually tomorrow's date.</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></b></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Developer
Entities</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1318 height=546 id="Picture 46"
src="index_files/image037.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 37</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can also
specify entities and that is called Developer<i> Entities. </i>We have just one
user defined entity which is <i>@Products</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1309 height=598 id="Picture 69"
src="index_files/image038.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 38</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We specified
product names such as 2010 and defined synonyms; different words or sentences mean
the same thing.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1323 height=723 id="Picture 50"
src="index_files/image039.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 39</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is
another example. I specified flight types. I did not define synonyms but
checked <i>Allow automated expansion</i>. When checked the ML (machine
learning) </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>model will
try to recognize terms other than the ones specified for an entity value. If it
understands that <i>non-stop</i>, <i>multiple-stop</i> and <i>one-stop </i>refer
to</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>flight types
it might understand that <i>charter</i> refers to flight type as well even if
we have not explicitly specified it here in the list. If we want our model to</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>only
understands the values that are specified on this list we leave <i>Allow
automated expansion </i>unchecked.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1336 height=599 id="Picture 51"
src="index_files/image040.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 40</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can also
upload entities files in JSON or CSV formats. Press three dots.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1321 height=528 id="Picture 52"
src="index_files/image041.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 41</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Select <i>Upload
Entity</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1336 height=675 id="Picture 53"
src="index_files/image042.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 42</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Read more
about it on this page </span><a
href="https://dialogflow.com/docs/entities/create-manage-entities"
target="_blank"><span style='font-size:14.0pt;line-height:107%'>https://dialogflow.com/docs/entities/create-manage-entities</span></a></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1330 height=795 id="Picture 54"
src="index_files/image043.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 43</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I created an
intent called <i>ss.documentation </i>and specified some training phrases. Based
on training phrases Dialogflow could extract <i>@Products </i>entity type.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1309 height=719 id="Picture 55"
src="index_files/image044.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 44</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Doalogflow
may not extract an entity based on a trading phrase or it could be a wrong
type. You can select a word or a sentence and specify the type that corresponds
to it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1217 height=562 id="Picture 56"
src="index_files/image045.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 45</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User Typed <i>is
doc available?</i> and the bot replies <i>Please specify the product</i> (we
will discuss question/answer soon)</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1237 height=583 id="Picture 59"
src="index_files/image046.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 46</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>It
is client-side web part</i> and the response was <i>Thank you for your interes ss.documentation
</i>intent was triggered<i> </i>and we can track that parameter <i>Product</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>has <i>SPFx </i>value<i>.</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1255 height=613 id="Picture 70"
src="index_files/image047.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 47</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The user
answered <i>It is client side web part </i>and <i>client side web part </i>was defined
as a synonym therefore parameter <i>Product </i>has the value of SPFx.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Slot
Filling</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Slot filling
allows you to design a conversation flow for parameter value collection within
a single intent. This is useful when an action cannot be completed without </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>a specific
set of parameters values.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1247 height=663 id="Picture 60"
src="index_files/image048.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 48</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is <i>ss.bugs
</i>intent. It defines our custom <i>@Products</i> entity and system defined
entities. All parameters are required as you can see. We also define prompts
for each parameter.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1254 height=593 id="Picture 61"
src="index_files/image049.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 49</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's open
the first prompt which is <i>Product</i> prompt. Three prompts are defined
which are picked up by Dialogflow randomly. Parameters <i>Name</i>, <i>Email</i>
and <i>Message</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>also have
their prompts specified. It is time to see <i>slot filling</i> in action.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1255 height=687 id="Picture 62"
src="index_files/image050.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 50</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>I
want to report a bug</i>. As we defined all parameters required and respective
prompts then Dialogflow will show the first <i>Product</i> prompt (Figure 49).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1248 height=670 id="Picture 63"
src="index_files/image051.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 51</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>It
is ss</i>. With this response not a single value can be extracted from our
custom defined entity.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1226 height=637 id="Picture 71"
src="index_files/image052.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 52</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>As a reminder,
this was our custom defined entity. You may notice that after the response <i>It
is ss </i>Dialogflow shows the second prompt <i>Which product</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>(Figure 51
and Figure 49).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1253 height=680 id="Picture 66"
src="index_files/image053.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 53</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time
user typed It is <i>Social Squared 2010 </i>and prompt for <i>Name </i>parameter
is displayed.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1247 height=613 id="Picture 67"
src="index_files/image054.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 54</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is the
Name parameter and prompts. <i>Name </i>parameter's entity type is @sys.any</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1256 height=786 id="Picture 68"
src="index_files/image055.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 55</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In <i>EntityTest</i>
intent, Dialogflow has chosen entity type <i>@sys.given-name</i> for name <i>John
</i>but we declared <i>Name </i>type as @sys.any (Figure 54).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We changed Dialogflow's
automatically detected entity type <i>@sys.given-name</i> to <i>@sys.any</i>.
Why?</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>As it turns
out, there are a lot of valid inputs which Dialogflow cannot identify. The most
common example is the user's name. Dialogflow does not</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>do a great
job at identifying non-English names. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1255 height=661 id="Picture 72"
src="index_files/image056.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 56</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's answer
the question asked <i>Tell me you name? </i>(Figure 54). Instead of answering <i>Ashot</i>
which is my name I answered <i>My name is Ashot</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we did
not specify <i>Name</i> parameter as @sys.any but <i>@sys.given-name</i> we
would always be asked the same question and be couth in the loop as <i>Ashot</i>
is not an English name.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we specified
Name as <i>@sys.given-name </i>and answered <i>My name is John </i>then
Dialogflow would accept it as <i>John</i> is an English name. You may notice</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that as we
defined <i>Name</i> parameter as @sys.any then the extracted value was not <i>Ashot
</i>but <i>My name is Ashot</i>. That would not be the case with @<i>sys.given-name</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If we specified
<i>Name</i> parameter as <i>@sys.given-name </i>and answered <i>My name is John
</i>then the extracted value would be just <i>John </i>not <i>My name is John</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1248 height=605 id="Picture 73"
src="index_files/image057.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 57</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Answering
the question <i>What is your email address? </i>(Figure 56). I typed </span><a
href="mailto:ashot@lightningtools.com"><span style='font-size:14.0pt;
line-height:107%'>ashot@lightningtools.com</span></a><span style='font-size:
14.0pt;line-height:107%'> and can see it assigned to parameter <i>Email.</i> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1255 height=626 id="Picture 74"
src="index_files/image058.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 58</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Answering
the last question <i>What is the issue? </i>(Figure 57). Now, the user got the
response, all required parameters have their values and can be saved to </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>database
(will be discussed). <i>Slot Filling</i> has some drawbacks. It does unlimited
re-prompts. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1294 height=607 id="Picture 75"
src="index_files/image059.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 59</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Suppose you
did not specify a valid product version. You will be caught in a loop. It will
re-prompt you on and on; <i>keep asking till the user gets it right</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For that reason,
the prompt tells you type <i>Cancel</i> to cancel it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1302 height=668 id="Picture 76"
src="index_files/image060.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 60</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Typing <i>cancel</i>.
Now, you are out of loop.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1288 height=669 id="Picture 79"
src="index_files/image061.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 61</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The word <i>Cancel
</i>is not the only word to get out of the loop. You can type any word that matches
an intend. For example, you can type <i>hello </i>and be redirected </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>to <i>Default
Welcome Intent. </i>There are other approaches to get <i>Slot Filling</i> like
behavior such as using <i>Follow Up</i> <i>Intents</i> or REST API, or doing it
via <i>Intents</i> with <i>context</i> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>but we will
not go into detail. <i>Slot Filling</i> does not cause a real problem in Social
Squared so we will stick with it. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Contexts</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Contexts
represent the current state of a user's request and allow your agent to carry
information from one intent to another. You can use combinations of <i>input</i>
and <i>output </i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>contexts to
control the conversation path the user takes through your dialog.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's try to
understand it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1343 height=853 id="Picture 80"
src="index_files/image062.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 62</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I created <i>like</i>
<i>chocolate </i>intent. A training phrase is <i>I like chocolates from Belgium</i>.
You see that Dialogflow created a system defined entity <i>@sys.geo-country</i>
for <i>Belgium</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Dialogflow
Intent page includes fields for both <i>Input</i> and <i>output</i> contexts.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Input
contexts;</span></i><span style='font-size:14.0pt;line-height:107%'> When
applied to an intent, an input context tells Dialogflow to match the intent
only if the user utterance in a close match and if the context is active.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Output
contexts</span></i><span style='font-size:14.0pt;line-height:107%'>; When
applied to an intent, an output context tells Dialogflow to activate a context
if it's not already active or to maintain the context after the intent</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>is matched.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We defined
output context<i> likes_chocolate</i> for <i>like chocolate </i>intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1342 height=745 id="Picture 81"
src="index_files/image063.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 63</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The text
response for the intent is <i>That is great that you like chocolates from
$geo-country</i>. <i>$geo-country</i> will be replaced with the value of <i>geo-country</i>
parameter, which is</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>already
discussed.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1332 height=816 id="Picture 82"
src="index_files/image064.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 64</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's create
the second intent called <i>chocolate liker</i>. The training phrase is <i>What
do I like?</i> This intent takes previously defined <i>likes_chocolate</i>
output intent as an input intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The response
is <i>You like chocolates from #likes_chcolate.geo-country </i>(will discuss
this syntax)<i>.</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1302 height=719 id="Picture 83"
src="index_files/image065.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 65</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We defined
two intents and it is time to test it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1294 height=583 id="Picture 85"
src="index_files/image066.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 66</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>what
do I like? </i>and the answer is <i>Sorry,</i> <i>could you say that again? </i>from
<i>Default Fallback Intent</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1302 height=720 id="Picture 86"
src="index_files/image067.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 67</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Default
Fallback Intent;</span></b><span style='font-size:14.0pt;line-height:107%'> When
you create an agent, the Default Fallback Intent is automatically configured
with a variety of static text responses,</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>like <i>I
didn't get that. Can you say it again? </i>and <i>Sorry, what was that? </i>This
intent is matched when your user's input does not match any other intent;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>in other
words, it is a kind of catch-all for any unrecognized user input.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The reason
that we did not get the response specified for <i>what do I like? </i>Is
because <i>chocolate liker </i>requires <i>likes_choclate</i> input context to
be active but it is not.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You ask a
bot <i>What do I like? </i>and the bot actually did not know what you like
because you did not tell the bot before what actually you like and the response</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Sorry,
could you say that again?</span></i><span style='font-size:14.0pt;line-height:
107%'> was a logical response.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1307 height=617 id="Picture 87"
src="index_files/image068.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 68</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time
user typed <i>I like chocolates from Belgium</i>. The response is <i>That is
great that you like chocolates from Belgium</i> and you noticed <i>likes_chcoclate</i>
output context?</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This means
that now likes_chocolate output context has been set and is active now. Under
CONTEXTS label you always see output contexts (they can be more than one).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1259 height=661 id="Picture 89"
src="index_files/image069.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 69</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>What
do I like? </i>and the response was <i>You like chocolates from Belgium</i>. It
works because context is set properly. <i>Chocolate liker </i>intent</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>expects <i>likes_chocolate</i>
input context and it was set by <i>like chocolate</i> intent via <i>likes_chocolate
</i>output context.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>What about <i>You
like chocolates from #likes_chocolate.geo-country</i> syntax?</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1294 height=662 id="Picture 91"
src="index_files/image070.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 70</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When you
type <i>I like chocolates from Belgium? </i>Then the context <i>likes_chocolate
</i>context<i> </i>is going to store parameters and their values that are
extracted in that training phrase, </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>in our case parameter
<i>geo-country</i> and its value <i>Belgium</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1290 height=584 id="Picture 92"
src="index_files/image071.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 71</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now, when
user types <i>What do I like? </i>The response is <i>You like chocolates from
Belgium</i>. The way it works is that it looked at the context <i>likes_chocolate
</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>which
already contains parameter <i>geo-country</i> with value <i>Belgium. </i>The
syntax is hash # followed by context name then a period then you have to </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>follow that
with the name of a parameter from the context <i>#likes_chocolate.geo-country</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1269 height=575 id="Picture 93"
src="index_files/image072.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 72</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can also
reset the context in Dialogflow console. You just remove the context.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1298 height=644 id="Picture 94"
src="index_files/image073.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 73</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I clicked on
<i>RESET CONTEXT </i>link, typed <i>What do I like? </i>one more time and
redirected to <i>Default Fallback Intent </i>as there is no <i>likes_chocolate </i>active
context</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that <i>chocolate
liker</i> intent expects.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1321 height=748 id="Picture 99"
src="index_files/image074.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 74</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I created
another Intent <i>like icecream</i>. The training phrase is <i>I like ice cream
</i>and the response is <i>Well, you like ice cream</i>. It has an output
context likes_icecream.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1318 height=892 id="Picture 101"
src="index_files/image075.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 75</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Created
another intent <i>icecream liker </i>and the training phrase is <i>What do I
like?</i> the same training phrase for ch<i>ocolate liker </i>intent and the
response is <i>You like ice cream</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1320 height=714 id="Picture 102"
src="index_files/image076.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 76</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time we
will test via Web Demo which can found under <i>Integrations</i> tab. Enable <i>Web
Demo</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1355 height=639 id="Picture 103"
src="index_files/image077.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 77</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Navigate to
URL.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1335 height=670 id="Picture 104"
src="index_files/image078.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 78</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>What
do I like</i>? and the bot could not understand it as no context was set. Then
the user typed <i>I like ice cream </i>bot replied <i>Well, you like ice cream</i>
and</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>likes_icecream</span></i><span
style='font-size:14.0pt;line-height:107%'> context was set.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1338 height=650 id="Picture 105"
src="index_files/image079.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 79</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>what
do I like? </i>and the bot replied <i>You like ice cream</i> as <i>like_icecream</i>
context was already set.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1354 height=635 id="Picture 106"
src="index_files/image080.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 80</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now user
typed <i>I like chocolates from Belgium</i> and got a response from the bot. He
asked <i>What do I like? </i>and the reply is <i>You like chocolates from
Belgium</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can see
that by using context we could keep a track of the states and we could just
effectively navigate our agent based on whichever context was main active.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We specified
<i>What do I like?</i> training phrase both in <i>chocolate_liker</i> and <i>icecream_liker</i>
intents and got the appropriate response based on the context. <i>Web Demo </i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>is good only
for text responses. If you have other response types such as cards, images etc.
then you will see [empty response] instead of a rich response.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1349 height=437 id="Picture 107"
src="index_files/image081.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 81</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You may
notice something of a number in output context. This is output context lifespan
and default value is 5. Basically, lifespan is to keep a track of how many
turns this </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>context is
going to be active for. Let's see it in action.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1356 height=689 id="Picture 109"
src="index_files/image082.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 82</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I changed
the life span value from 5 to 2 and saved it. I typed <i>I like chocolates from
Belgium</i> and got the response. <i>likes_chocolate </i>context is active. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There is<b> DIAGNOSTIC
INFO </b>button that shows request and response information related to the
query. This is where you can see the raw data from the interaction</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's click the
link.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1380 height=621 id="Picture 111"
src="index_files/image083.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 83</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>lifespanCount</span></i><span
style='font-size:14.0pt;line-height:107%'> is 2. This is the value we specified
in <i>likes_chocolate</i> output context and it is still is 2 as it is not
consumed yet.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1385 height=637 id="Picture 112"
src="index_files/image084.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 84</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>What
do I like? </i>and <i>chocolate liker</i> intent was triggered. The response is
<i>You like chocolates from Belgium</i>. You notice that <i>likes_chocolate</i>
lifespan count is </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>decreased from
2 to 1. (These strange looking characters are coming from Microsoft Edge
browser, Chrome and Firefox are OK. Do not pay attention to it).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is the
first turn.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1355 height=606 id="Picture 113"
src="index_files/image085.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 85</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>What
do I like? </i>one more time and got the same response as <i>chocolate liker</i>
intent was triggered and after the response <i>life_chocolate</i> lifespan
counts</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>decreased from
1 to 0 meaning the context is expired, not active. This is the second turn.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1356 height=642 id="Picture 115"
src="index_files/image086.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 86</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed
What<i> do I like?</i> third time and <i>Default Fallback Intent </i>was
triggered because there was no <i>life_chocolate </i>context available and <i>chocolate
liker</i> intent required </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>life_chocolate
input</span></i><span style='font-size:14.0pt;line-height:107%'> context in
order to return a response. You just saw that we set <i>life_chocolate </i>context's<i>
</i>lifespan value to 2 and after the second turn the context was expired.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Your first thinking
could be that the higher the lifespan value the better but actually it is mostly
the opposite. In Social Squared lifespan values are set to 1 for all output
contexts.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I think that
using a context of one makes your chatbot a lot easier to reason about (will
see it in action).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Follow-up
intents</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Follow-up
intents provide a simple way to shape a conversation without having to create
and manage contexts manually. These special intents are nested under their
parent </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>intent and
are designed to handle preset replies from the user, like <i>yes</i>, <i>no</i>,
<i>cancel</i>, or next. You can customize follow-up intents by choosing <i>Custom</i>
option.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When you
create a follow-up intent, an output context is added to the parent intent and
an input context of the same name is added to the child intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This means
that the follow-up intent is matched only when the parent intent is matched in
the previous conversational term.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1358 height=729 id="Picture 128"
src="index_files/image087.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 87</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Social
Squared defines <i>ss.feedback</i> intent. You can add a follow-up intent by
hovering over an intent name. You see that we already added three follow-up intents.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1330 height=693 id="Picture 129"
src="index_files/image088.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 88</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I clicked on
<i>Add follow-up intent </i>and could see some options. For <i>ss.feedback -
do-not-know</i> intent <i>custom</i> option has been chosen, for <i>ss.feedback</i>
<i>-</i> <i>yes</i> it is <i>yes</i> option and</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>for <i>ss.feedback</i>
<i>- no</i> it is <i>no</i> option.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1316 height=707 id="Picture 130"
src="index_files/image089.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 89</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If you open
ss<i>.feedback </i>intent you will see that <i>ssfeedback-folluwup </i>output
context<i> </i>was automatically added to the intent when the first follow-up
intent was created.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Default life
span for a follow-up intent is 2 and we changed it to 1. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1321 height=720 id="Picture 131"
src="index_files/image090.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 90</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let open ss.feedback
<i>-</i> yes follow-up intent. <i>ssfeedback-followup</i> input context has
been added to this intent. Dialogflow uses contexts to create the hierarchical
structure.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You remember
we added both input and output contexts manually in our previous example in
chocolate sample. We specified <i>likes_chocolate </i>output context in <i>like
chocolate</i> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>intent and <i>like
chocolate </i>output context in <i>chocolate liker</i> intent. In follow-up
intent case it is done automatically. Also, training phrases for ss.feedback <i>-</i>
yes has been added </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>automatically
and we can add, modify or remove them if required. Note, you cannot rename <i>ssfeedback_followup</i>
context name. You may think to change <i>ssfeedback_followup</i> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>name both in
parent and child intents to some short name but after changing it parent and
child intents will stop being parent and child and follow-up intent will not
work </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>as expected,
<i>-</i> it will remove the intent from the hierarchy.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1352 height=817 id="Picture 132"
src="index_files/image091.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 91</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is <i>ss.feedback
- no</i> follow up intent with its training phrases defined by the system.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1371 height=749 id="Picture 133"
src="index_files/image092.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 92</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>ss.feedback
- do-not-know</span></i><span style='font-size:14.0pt;line-height:107%'> is
defined with custom <i>option</i>. With <i>custom</i> option you do not have
predefined words as the system does not know what this intent is all about.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>ssfeedback-followup</span></i><span
style='font-size:14.0pt;line-height:107%'> input context is added by the system
but training phrases are specified by us. Follow-up intents can be nested at
any level. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You may ask
if there is a follow-up intent option why to specify context manually? First,
you cannot rename follow-up intents context name generated by the system</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>which is not
good. Suppose you have multi-level follow-up intents and in that case a context
name can be <i>ssfeedback-followup-blblblblba-jhkjkjkjk </i>long name which is impractical.
</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Another
problem could be duplicate follow-up intents (say, many <i>yes</i> and <i>no </i>in
hieratical structure) based on chatbot structure. The alternative approach is
to define your</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>own contexts
and not use follow-up intents. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1364 height=711 id="Picture 136"
src="index_files/image093.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 93</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In Social
Squared Dialogflow we have <i>ss.on-prem</i> intent with <i>ss_on-prem</i>
output context and other intents starting with <i>ss.on-prem </i>with <i>ss_on-prem
</i>input context. That could be </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>also done
via follow-up intents but would be hard to manage. It is quite easy to manage
it via our own context.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1322 height=1165 id="Picture 238"
src="index_files/image094.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 94</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is
Social Squared intents diagram with contexts that we will discuss later but you
see that we have 2 intents using follow-intents, <i>Feedback</i> and <i>Price</i>.
</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Support</span></i><span
style='font-size:14.0pt;line-height:107%'> intent could also use be perfectly
designed with a <i>custom</i> follow-up intent but we defined our own one.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1316 height=730 id="Picture 139"
src="index_files/image095.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 95</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>want
to leave a feedback </i>and 3 quick reply options are displayed via the back-end
code (will be discussed). </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1308 height=856 id="Picture 141"
src="index_files/image096.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 96</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>When a user
typed <i>want to leave a feedback </i>then<i> ss.feedback </i>intent was
triggered and ssfeedback-followup output context was set. Note, there is not an
exact training phrase</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>that matches
<i>want to leave a feedback </i>phrase but <i>ss.feedback </i>intent was
triggered. That is thanks to Natural Processing/Understanding (NLP/NLU). Based on</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>already
defined training phrases it could understand that <i>want to leave a feedback </i>should
match ss.feedback intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1287 height=710 id="Picture 142"
src="index_files/image097.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 97</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Instead of
selecting <i>I do not know</i> option (Figure 95) user typed <i>did not try</i>.
When you select a quick reply option in Facebook Messenger or type anything
after the quick reply </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>buttons then
quick reply buttons are removed. User typed <i>did not try </i>and buttons <i>Yes</i>,
<i>I do not know, No </i>were<i> </i>removed. This behavior is a platform
specific and, for example, </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Skype</span></i><span
style='font-size:14.0pt;line-height:107%'> does not remove them after selecting
an option or typing anything after a quick reply.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1313 height=650 id="Picture 143"
src="index_files/image098.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 98</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The reply<i>
did not try </i>matches <i>ss.feedback - do-not-know</i> intent because, first,
this intent expecting ssfeedback-followup input context which was passed form
ss.feedback</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>intent and,
second, <i>did not try</i> phrase matches a training phrase (NLP/NL<u>U</u>) in
<i>ss.feedback - do-not-know</i> intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1335 height=695 id="Picture 145"
src="index_files/image099.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 99</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is the
bot's random response to <i>did not try.</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1320 height=697 id="Picture 144"
src="index_files/image100.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 100</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time I
typed <i>did not try </i>in the conversation and no <i>ssfeedback-followup</i> context
was set. A random reply from the bot <i>What was that?</i> suggested you to
select an option </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>instead of
the actual response (will be discussed later).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Rich Messages</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We described
how to integrate Dialogflow with Facebook Messenger, Skype in <i>How to Run Application
page</i> </span><a href="https://lightning-tools.github.io/Social-Squared-Bot/"
target="_blank"><i><span style='font-size:14.0pt;line-height:107%'>https://lightning-tools.github.io/Social-Squared-Bot/</span></i></a><span
style='font-size:14.0pt;line-height:107%'>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1331 height=778 id="Picture 116"
src="index_files/image101.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 101</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>After the
integration you will see not only DEFAULT tab under <i>Responses</i> but also
FACEBOOK MESSENGER and SKYPE. They allow you to define default or </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>integration-specific
responses. Let's create a sample intent and explore <i>Rich Messages</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1325 height=796 id="Picture 117"
src="index_files/image102.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 102</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Created an
intent called <i>test messages </i>defined a training phrase <i>test rich
messages </i>and the response <i>This is default response</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1306 height=590 id="Picture 121"
src="index_files/image103.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 103</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>If you type <i>test
rich messages </i>you will get the response <i>This is a default response</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1333 height=638 id="Picture 122"
src="index_files/image104.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 104</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>DEFAULT tab allows
two response types, <i>Text response</i> that we defined many times and <i>Custom
payload</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1359 height=673 id="Picture 123"
src="index_files/image105.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 105</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can send
a custom payload to self-deployed integrations. It will not be processed by
Dialogflow, so you will need to handle it in your own business logic.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Custom
payload has predefined formats for a Facebook Messenger, Skype, telegram etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1373 height=706 id="Picture 124"
src="index_files/image106.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 106</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can see
more options on FACEBOOK MESSENGER.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1278 height=607 id="Picture 125"
src="index_files/image107.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 107</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's select
<i>Card</i> option and enter some values.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1305 height=542 id="Picture 127"
src="index_files/image108.jpg"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 108</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>test
rich messages, </i>selected FACEBOOK MESSENGER option instead of DEFAULT
RESPONSE and could see the card rendered.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Note, if you
define more than one card Facebook Messenger will render it as a carousel. What
if I want to define Card control for DEFAULT RESPONSE for testing purposes</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>but there
was not <i>Card</i> option? What If I do not want to manually specify the same
card option separately both in <i>Facebook Messenger</i>, <i>Skype</i>, <i>telegram</i>
etc.? I would like to </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>specify it
once to work in multiple Integrations such as Google Assistant, Facebook Skype,
Viber etc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Fulfillment</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Fulfillment
is code that is deployed as a webhook that lets you Dialogflow agent call
business logic on intent-by-intent basis. During a conversation, fulfilment
allows you to use </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the
information extracted by Dialogflow's natural language processing to generate
dynamic responses or trigger actions on your back-end. Most Dialogflow agents
make use </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>of
fulfilment. The following are some example cases where you can use fulfilment
to extend an agent.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>To generate
dynamic responses based on information looked up from a database</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>To place
orders based on products and customer has asked for</span></i></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>To
implement the rules and winning conditions for a game</span></i></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1309 height=715 id="Picture 146"
src="index_files/image109.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 109</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In <i>How to
run application</i> </span><a
href="https://lightning-tools.github.io/Social-Squared-Bot/" target="_blank"><span
style='font-size:14.0pt;line-height:107%'>https://lightning-tools.github.io/Social-Squared-Bot/</span></a><span
style='font-size:14.0pt;line-height:107%'> section we discussed how to enable Webhook
for fulfilment. We tested the app</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>locally
using <i>ngrok</i> and published the app<i> </i>on<i> Heroku</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1323 height=673 id="Picture 147"
src="index_files/image110.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 110</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We use <i>Dialogflow
Fulfilment Library</i> in our back-end app </span><a
href="https://www.npmjs.com/package/dialogflow-fulfillment" target="_blank"><span
style='font-size:14.0pt;line-height:107%'>https://www.npmjs.com/package/dialogflow-fulfillment</span></a><span
style='font-size:14.0pt;line-height:107%'>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1334 height=781 id="Picture 148"
src="index_files/image111.png"><span style='font-size:14.0pt;line-height:107%'> </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 111</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Instead of
dealing with request and response directly it much easier to work with <i>WebhookClient</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1337 height=790 id="Picture 149"
src="index_files/image112.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 112 </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We already
stated that fulfillment is code which is deployed as a webhook that lets you
Dialogflow agent call business logic on intent-by-intent basis. In Social
Squared almost</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>all intents
use fulfilment. We just toggle the switch to enable fulfilment for the intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1320 height=781 id="Picture 150"
src="index_files/image113.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 113</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Fulfilment
is not enabled for <i>ss.yammer</i>. Why we enable webhook for some intents and
not for others? There are two main reasons for it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1314 height=735 id="Picture 151"
src="index_files/image114.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 114</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You could
remember that we want to specify rich messages once and get it working in
multiple integrations (Figure 108). With the help of <i>Dialogflow Fulfilment
Library </i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>we can
specify rich messages in the back-end code and display on various platforms
such as Google Assistant, Facebook Skype, Viber etc. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>That is the first
reason that we enable web hook for those intents.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1177 height=669 id="Picture 152"
src="index_files/image115.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 115</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here you can
see that a user requested Social Squared download links and received cards response
rendered as carousel.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1230 height=639 id="Picture 153"
src="index_files/image116.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 116</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We make use
of <i>card</i> control defined in dialog flow fulfilment library and it will
work almost in all platforms.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1226 height=682 id="Picture 154"
src="index_files/image117.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 117</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is how
it is rendered on Skype.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The second
reason that we want to enable webhook for an intent is to persist data in
database and send emails to support.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1241 height=586 id="Picture 155"
src="index_files/image118.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 118</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>For example,
an intent that is responsible to collect bugs from users should use webhook in
order to persist data in database and send an email to support.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1248 height=606 id="Picture 156"
src="index_files/image119.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 119 </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's look
at the diagram. We did not build the front end yet, instead integrated with
other platforms for now. Imagine now that <i>REACT FRONTEND </i>is</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Facebook
Messenger. A user typed something like <i>Why should I use Yammer?</i> and input
from user is sent to DialogFlow. If fulfillment is NOT enabled for an intent</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>then the
response is sent back to the user directly. An example is <i>ss.yammer</i>
intent. We do not collect information from users to persist in database and </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>do not use
rich messages either. Now, the user types <i>how to get Social Squared doc</i>?
and this time request is sent to back-end app as fulfilment is enabled for </span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>ss.documentation
</span></i><span style='font-size:14.0pt;line-height:107%'>case. We sent <i>Card</i>
response back to a user generated with Dialogflow fulfillment library via
back-end app.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1246 height=682 id="Picture 157"
src="index_files/image120.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 120</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is
Social Squared 2010 documentation page link sent by the bot.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Webhook
response has timeout which is 5 seconds. Let's test it and see what actually happens.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1264 height=634 id="Picture 158"
src="index_files/image121.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 121</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I am testing
it locally via ngrok.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1266 height=685 id="Picture 159"
src="index_files/image122.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 122</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User types <i>leave
a feedback</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1262 height=690 id="Picture 160"
src="index_files/image123.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 123</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User chose <i>yes</i>
option and response was <i>That's cool!</i> then an image.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1265 height=592 id="Picture 161"
src="index_files/image124.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 124</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's
comment <i>ss.feedback</i> and its follow-up intents code so no response will
be returned.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1270 height=688 id="Picture 162"
src="index_files/image125.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 125</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time
after 5 seconds only <i>Do you like Social Squared?</i> is rendered, no quick
reply buttons. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1267 height=617 id="Picture 163"
src="index_files/image126.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 126</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Based on the
question the user types <i>yes</i>. Another 5 seconds then <i>Awesome!</i> response
from the bot and a URL.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1280 height=584 id="Picture 164"
src="index_files/image127.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 127</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User clicked
the link and navigated to an image page. Let's see the difference.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1280 height=638 id="Picture 165"
src="index_files/image128.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 128</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In the first
scenario in our back-end code we first call consoleMessages and then render
quick replies.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1267 height=686 id="Picture 166"
src="index_files/image129.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 129</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With the
help of <i>consolmessages</i> we access the intent's responses and pick up it
randomly. We displayed a response then quick reply buttons(Figure 122).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1269 height=637 id="Picture 167"
src="index_files/image130.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 130</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>yes</i>.
<i>ss.feedback - yes</i> intent was triggered. There are two responses
specified in that intent. First response which we named <i>msg </i>is an actual
text response</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the second
one which we called <i>imageUrl </i>was the image URL. So, we display a random
message then an image (Figure 123). After it, we send an email to support and
save it</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>to database.
Note, we access <i>text</i> property of <i>imageUrl </i>in order to render an
image (rich message) and it is not required to explicitly specify <i>text</i>
property when rendering </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>text
messages. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1265 height=693 id="Picture 168"
src="index_files/image131.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 131</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is <i>ss.feedback
- yes</i> intent with two text responses, message and image URL.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1274 height=664 id="Picture 169"
src="index_files/image132.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 132</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In the
second scenario, when no response was returned from the server within 5 seconds
Dialogflow is kind of falling back to <i>Responses</i> specified in that intent</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>as if
webhook was disabled for that intent. In other words, if nothing is coming form
the server via webhook it uses responses specified for that intent. In this
case</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>you do not
see quick reply buttons and actual image rendered, just text messages and image
URL which is also a text response and Facebook Messenger renders it as a link</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>(Figure 125,
126). I want to emphasize that the bot works properly only when the back-end
app is on. The reason we have most of the responses on Dialogflow <i>Responses </i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>section is
flexibility. We do not want to have all responses in the back-end code when
webhook is enabled. It is better to have them on DialogFlow interface and
access</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>via <i>consoleresponses</i>.
If you need to modify a response then no need to modify it in the back-end code
and publish it again, you just modify it in Dialogflow and save it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1291 height=670 id="Picture 170"
src="index_files/image133.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 133</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You can also
specify an <i>action</i> for an <i>intent</i>. For intent <i>ss.feedback</i> I
specified action <i>ss.feedback</i> which could be different from the intent
name.</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Action </span></i><span
style='font-size:14.0pt;line-height:107%'>is something that is more intended
for use by the webhook and more directly maps to a function.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1303 height=628 id="Picture 171"
src="index_files/image134.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 134</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We refer to
the same js file both for <i>feedback</i> intent and its follow-up intents.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1298 height=682 id="Picture 2"
src="index_files/image135.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 135</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In that js
file based on <i>action</i> we return the appropriate response.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Events</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Events allow
you to invoke intents based on something that has happened instead of what a
user communicates. Dialogflow supports events from several platforms </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>(like
Facebook Messenger, Google Assistant etc.) based on actions users take on those
platforms. You can also create your own custom events that can be triggered </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>via <i>fulfilment</i>
or the <i>detectIntet API</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1304 height=736 id="Picture 173"
src="index_files/image136.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 136</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Default
Welcome Intent</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The <i>default
Welcome Intent</i> is created for you when you create your agent. This intent
has a special WELCOME event attached to it, which is triggered whenever the
user begins a</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>conversation
with your agent via supported one-click integrations. <i>The Default Welcome
Intent</i> can also be matched through its training phrases, which are
pre-populated </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>with common
greetings. Let's see in action.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1166 height=665 id="Picture 174"
src="index_files/image137.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 137</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I deleted
all Facebook Messenger conversations and starting from scratch. You see there
is <i>Get Started</i> link and we click it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1189 height=662 id="Picture 175"
src="index_files/image138.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 138</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We got <i>Greeting!
How can I assist? </i>response.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1215 height=655 id="Picture 176"
src="index_files/image139.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 139</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Default
Welcome Intent</span></i><span style='font-size:14.0pt;line-height:107%'> was
triggered and the response was taken from <i>Responses</i> section. It was
triggered via <i>Welcome</i> event as there was no <i>Get Started</i> training
phrase.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1225 height=689 id="Picture 177"
src="index_files/image140.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 140</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>In order to
prove it I typed <i>Get Started</i> this time myself and you see that <i>Default
Fallback Intent </i>was matched. This proves that Messenger's <i>Get Started </i>option</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>works via <i>Welcome</i>
event. In Social Squared case we do not want to welcome a user when <i>Get
Started </i>clicked. We want tell a user that Social Squared chat bot is </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>going to
help him.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1244 height=659 id="Picture 178"
src="index_files/image141.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 141</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We specified
our own <i>ss.welcome</i> intent where we specified platform specific events.
Now I added <i>Facebook Welcome </i>platform specific event and saved it</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1241 height=679 id="Picture 179"
src="index_files/image142.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 142</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time we
received another message.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1228 height=698 id="Picture 180"
src="index_files/image143.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 143</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is a
response of <i>ss.welcome</i> intent obtained via <i>Facebook Welcome</i> event
and we can prove it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1205 height=637 id="Picture 181"
src="index_files/image144.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 144</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>I typed <i>Get
Started</i> again and <i>Default Fallback Intent </i>was triggered as there was
no <i>Get Started</i> training phrase in <i>ss.welcome </i>intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><b><span style='font-size:14.0pt;line-height:107%'>Training</span></b></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Since
Dialogflow's natural language processing is based on machine learning, you can
add training data that the agent learned from and uses to improve its
performance.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1210 height=506 id="Picture 184"
src="index_files/image145.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 145</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>blabla
</i>and <i>Default Fallback Intent</i> was triggered meaning no response for <i>blabla</i>.
We select <i>Training</i> tab, see <i>blabla </i>there and click it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1218 height=574 id="Picture 185"
src="index_files/image146.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 146</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We can see
that <i>blabla </i>did not match any intent. We generally have two options
here. Just imagine that <i>blabla </i>is a phrase that required a new intent.
In that case</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>we will
create a new intent with <i>blabla </i>and similar training phrases and
responses. Another option is that we can assign <i>blabla</i> to an intent.
Imagine that</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>blabla </span></i><span
style='font-size:14.0pt;line-height:107%'>is a phrase that should be added to
Yammer. When someone types <i>blabla </i>ss.yammer intent should be triggered.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1237 height=538 id="Picture 186"
src="index_files/image147.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 147</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>We select <i>ss.yammer
</i>intent and approve it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1240 height=627 id="Picture 187"
src="index_files/image148.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 148</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Blabla </span></i><span
style='font-size:14.0pt;line-height:107%'>has been added to <i>ss.yammer </i>intent
and typing <i>blabla </i>will trigger <i>ss.yammer</i> intent and display a
response from it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's
discuss some Social Squared bot scenarios.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1227 height=670 id="Picture 191"
src="index_files/image149.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 149</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>Is</i>
<i>Social Squared better than Yammer? </i>and got a response from the bot.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1231 height=1084 id="Picture 192"
src="index_files/image150.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 150</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Yammer (ss.yammer)
intent was triggered when <i>Social Squared help </i>was requested. There are some
intents that cannot be triggered. At any point</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>in the
conversation, there is a set of intents which can fire. We will call these <i>candidate
intents</i>. When you start the conversation with the bot, the intents in</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>red
rectangles CANNOT be triggered. They are NOT candidate intents as they require a
context. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1225 height=693 id="Picture 193"
src="index_files/image151.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 151</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>passthrough
authentication failure</i> and he did not get a valid response.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1227 height=1082 id="Picture 194"
src="index_files/image152.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 152</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>passthrough
authentication failure </span></i><span style='font-size:14.0pt;line-height:
107%'>is a training phrase defined in <i>Double Hop</i> intent. <i>Double Hop </i>is
not a candidate intent so you cannot get a response from it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>That is the
reason that the bot wants to know if <i>passthrough authentication failure </i>belongs
to Social Squared <i>On-Premises</i> version or <i>Client-Side Web Part</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>(<i>On-Premises</i>
and <i>Client-Side Web Part</i> Quick reply buttons Figure 151). You may ask
why not to have a flat structure without contexts and get every response </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>at any point
in the conversation. Let's see it in action.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1243 height=1096 id="Picture 195"
src="index_files/image153.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 153</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Note, both
Social Squared on-premises version and SPFx version support look and feel
customization but there are completely different. When a user starts chatting</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and asking
about <i>look and feel customization</i> directly, the bot should know the
context first to send the right response; was it about SPFx customization or
on-premises?</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With that
logic we want to categorize other questions as well. For example, when user is
asking about <i>Double Hop</i> issue the bot could have answered it directly if</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>on-prem</span></i><span
style='font-size:14.0pt;line-height:107%'> context had not been required for <i>Double
Hop</i> intent but we preferred to put it under <i>ss_on-prem</i> context to logically
group platform specific questions </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and answers.
Another advantage is that a user will know that there is no Double Hop issue in
SPFx version and it is on-premises specific issue.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1264 height=738 id="Picture 196"
src="index_files/image154.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 154</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User clicked
<i>On-Premises</i> option. Note, in Facebook Messenger, Quick Reply buttons are
removed once an option is selected.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1264 height=1114 id="Picture 197"
src="index_files/image155.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 155</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>On-Premises
</span></i><span style='font-size:14.0pt;line-height:107%'>phrase matched <i>ss.on-prem
</i>intent after choosing <i>On-Premises</i> reply button option and a random
response was returned from that intent. <i>ss_on-prem</i> output context</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>was set and
active now. All intents expecting input context <i>ss_on-prem</i> are active
now. All intents in red rectangles are NOT candidate intents at this point in
the conversation.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1260 height=780 id="Picture 199"
src="index_files/image156.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 156</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>passthrough
authentication failure </i>one more time and got the actual response and the
link to read about it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1255 height=1107 id="Picture 200"
src="index_files/image157.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 157</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The response
to <i>passthrough authentication failure</i> phrase matched Double Hop intent
and could be returned from that intent because <i>ss_on-prem</i> context was
already</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>active
(Figure 155).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1265 height=719 id="Picture 201"
src="index_files/image158.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 158</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>You may
notice on the chart flow that intents which have an input context also return
the same output context with the lifespan value of 1 such as <i>ss.on-prem -
double-hop</i> intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This is
because we want to keep the context in the loop. If a user asks another Social
Squared on-premises question the bot can answer right away as the context <i>ss.on-prem</i></span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>is still
active. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1282 height=632 id="Picture 202"
src="index_files/image159.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 159</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>What
about reply via email?</i> and bot replied with a link to Reply via Email doc.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1279 height=1127 id="Picture 203"
src="index_files/image160.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 160</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The bot
could find the answer because the <i>ss_on-prem</i> output context was set from
<i>Double Hop</i> intent that <i>Reply Via Email</i> intent expecting that
context </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and <i>What
about reply via email? </i>phrase<i> </i>matches<i> Reply Via Email</i> intent.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1283 height=520 id="Picture 204"
src="index_files/image161.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 161</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>Why
do I need Social Squared?</i> and got a response form the bot.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1262 height=1112 id="Picture 206"
src="index_files/image162.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 162</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The active
intent is <i>Why</i>. <i>ss_on-prem</i> context is expired now as its lifespan
was set to 1.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1258 height=677 id="Picture 207"
src="index_files/image163.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 163</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Now, if user
asks <i>passthrough authentication failure </i>one more time the bot ask the
user to select the platform. The reason was that <i>ss_on-prem</i> context with
lifespan of 1</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>was expired
and <i>Double Hop</i> intent is not candidate intent anymore. We could have a
context lifespan greater that one and that case Double Hop intent would be a
candidate</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>intent and
bot would not ask the user to select a platform. Having a life span greater
than 1 usually makes a problem.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1286 height=1134 id="Picture 208"
src="index_files/image164.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 164</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Imagine, we
have 100 intents both under <i>On-Prem</i> and <i>SPFx</i> intents and we set
output context lifespan to 5 instead of 1 for all those intents.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1252 height=675 id="Picture 210"
src="index_files/image165.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 165</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User types <i>mobile
version? </i>and should select a platform. He is choosing <i>Client-Side Web
Part</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1270 height=537 id="Picture 211"
src="index_files/image166.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 166</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>ss_spfx </span></i><span
style='font-size:14.0pt;line-height:107%'>context's lifespan value is set to 5 after
choosing the option (do not pay attention to <i>ss_fallback</i> context now).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1272 height=556 id="Picture 212"
src="index_files/image167.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 167</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The bot
tells a user that he can not find answer for <i>Double Hop </i>and user can
either <i>Ask Support </i>or switch to <i>On-Premises</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1268 height=579 id="Picture 213"
src="index_files/image168.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 168</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User
selected <i>On-Premises </i>option and could read what Social Squared
on-premises is all about. There are two active contexst <i>ss_spfx</i> with
lifespan of 4, one already consumed,</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and <i>ss_on-prem</i>
lifespan of 5.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1272 height=585 id="Picture 214"
src="index_files/image169.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 169</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>Look
and Feel </i>and the bot replied Client-Side Web Part Like and Feel
customization. User selected <i>On-Premises</i> option expecting look and feel
customization</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>for
on-premises version but the response was about Client-Side web part look and
feel customization.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1275 height=1125 id="Picture 215"
src="index_files/image170.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 170</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There are
two <i>Look and Feel</i> intents (names could be different) with similar
training phrases and the bot picked up the wrong one. This is because of 2
active contexts</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>ss_on-prem</span></i><span
style='font-size:14.0pt;line-height:107%'> and <i>ss_spfx</i>. That is the
reason we prefer to set context lifespan to 1. Though in lifespan to 1 case
user will be asked to choose platform more than once</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>in some cases,
but we are safe that the response will be the right one.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There is
also <i>ss_fallback</i> context (Figure 167) and what is the meaning of it?</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1264 height=577 id="Picture 217"
src="index_files/image171.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 171</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>I
want xyz? </i>Bot could not understand it ant suggested some options via quick
reply. This time <i>ss_fallback </i>is set with lifespan 2 (will discuss why it
is 2).</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1257 height=639 id="Picture 218"
src="index_files/image172.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 172</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>I
want xyz? One more </i>and again no response from the bot as no intent matches
it.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1259 height=642 id="Picture 219"
src="index_files/image173.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 173</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Again, typed
<i>I want xyz? </i>and quick replies appeared along with <i>ss_fallback</i>
context. The meaning of <i>ss_fallback</i> context is to show and hide quick
reply buttons making</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>the bot more
realistic.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1259 height=518 id="Picture 220"
src="index_files/image174.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 174</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>ss_fallback</span></i><span
style='font-size:14.0pt;line-height:107%'> context is set in the code. We hide and
show the context and based on that either include or exclude quick reply
buttons.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1268 height=521 id="Picture 221"
src="index_files/image175.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 175</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Default
Fallback Intent</span></i><span style='font-size:14.0pt;line-height:107%'> is
triggered when user's input does not match any other intent as we discussed. You
can also have a context based fallback intents.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Instead of
creating a new Intent by clicking CREATE INTENT button we click on three dots.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1279 height=499 id="Picture 222"
src="index_files/image176.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 176</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>There is an
option <i>Create Fallback Intent</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1296 height=687 id="Picture 223"
src="index_files/image177.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 177</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>With this
option we created 2 context based fallback intents one for <i>ss_on-prem</i>
context and another one <i>ss_spfx </i>context.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1288 height=593 id="Picture 224"
src="index_files/image178.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 178</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This intent
will be triggered if no matching intent was found for <i>ss_on-prem</i>
context.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Let's test a
flow.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1217 height=627 id="Picture 226"
src="index_files/image179.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 179</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed <i>how</i>
<i>to create forum groups?</i> no training phrases matched and <i>Default
Fallback Intent</i> was triggered. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1249 height=645 id="Picture 227"
src="index_files/image180.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 180</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User
selected <i>On-Premises</i> reply button and <i>ss_on-prem</i> context was set.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1236 height=660 id="Picture 229"
src="index_files/image181.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 181</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User typed
again how <i>to create forum groups? </i>expecting that he would find an answer
to his question in Social squared on-premises branch. No intent matched and </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>as <i>ss_on-prem</i>
context was already set <i>ss.on-prem - fallback</i> intent was triggered. The
part of the response was defined statically and other part was coming from the
server.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1239 height=502 id="Picture 230"
src="index_files/image182.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 182</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The bot
tells the user the topics he can answer as a reply to how <i>to create forum
groups? </i>question<i> </i>was not found.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1257 height=531 id="Picture 231"
src="index_files/image183.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 183</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>These are quick
reply buttons generated.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1257 height=653 id="Picture 232"
src="index_files/image184.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 184</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>User insists
on his question and types how <i>to create forum groups? </i>one more time.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1267 height=590 id="Picture 233"
src="index_files/image185.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 185</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>This time we
call custom event <i>Fallback</i> from the code (we discussed events already)
triggering <i>Default Fallback Intent</i>.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1266 height=575 id="Picture 235"
src="index_files/image186.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 186</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Here is the <i>Fallback</i>
event set. The result of calling this event is <i>Sorry, can you say that again
part? </i>random response in <i>Default Fallback Intent</i>. </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1301 height=562 id="Picture 236"
src="index_files/image187.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 187</span></p>

<p class=MsoNormal><i><span style='font-size:14.0pt;line-height:107%'>Leave a
Feedback? </span></i><span style='font-size:14.0pt;line-height:107%'>quick
reply button is displayed (Figure 184) because <i>ss_on-prem-fallback </i>context
is active.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><img border=0 width=1301 height=667 id="Picture 237"
src="index_files/image188.png"></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>Figure 187</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>The reason
we set <i>ss_fallback</i> context's lifespan to 2 is because of the custom event
<i>agent.setFollowupEvent('Fallback')</i> (Figure 185). In that case lifespan is
decreased by 1 </span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>and in order
to work it properly we should set it 2 which will not cause any problem.</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:14.0pt;line-height:107%'>&nbsp;</span></p>

</div>

</body>

</html>
